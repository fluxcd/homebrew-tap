# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Flux < Formula
  desc "Flux CLI"
  homepage "https://toolkit.fluxcd.io/"
  version "0.12.2"
  bottle :unneeded

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/fluxcd/flux2/releases/download/v0.12.2/flux_0.12.2_darwin_amd64.tar.gz"
    sha256 "f380dbd2ffe35abbba8bd6e8db7bad924ef30f416a9366623032408d4c790037"
  end
  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/fluxcd/flux2/releases/download/v0.12.2/flux_0.12.2_darwin_arm64.tar.gz"
    sha256 "e21283d2ded0087c0704f11600451f33a10f3f97276cbee87568f13cce805d36"
  end
  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/fluxcd/flux2/releases/download/v0.12.2/flux_0.12.2_linux_amd64.tar.gz"
    sha256 "f77477ac5852868f238d95af7bf8ce582ef6e3257a0f9c46f4adcbeba7433e3c"
  end
  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/fluxcd/flux2/releases/download/v0.12.2/flux_0.12.2_linux_arm64.tar.gz"
    sha256 "da032596fa2240aeed165c7d014e29a585105f0c3475ab177fb5aacc5022c699"
  end

  depends_on "kubectl" => :optional

  def install
    bin.install "flux"
  end

  test do
    system "#{bin}/flux --version"
  end
end
